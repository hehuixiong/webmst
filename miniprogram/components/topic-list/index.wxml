<wxs src="../../utils/utils.wxs" module="utils" />
<view class="topic-list">
  <block wx:for="{{data}}" wx:key="index">
    <view class="topic-item my-class {{index % 14 === 0 ? 'is-active' : ''}}" hover-class="navigator-hover" bindtap="handleJump" data-item="{{item}}">
      <view class="topic-item__title">
        <view class="title">
          <text>第{{index + 1}}题：{{item.title}}</text>
        </view>
        <view class="tag">{{item.cate_id === 21 ? '选择题' : '问答题'}}</view>
      </view>
      <view class="topic-item__desc">
        <view class="level">
          <text>难度：</text>
          <van-rate size="14px" readonly value="{{ item.level }}" />
        </view>
        <view class="record {{item.is_collect ? 'is-active': ''}}">
          <van-icon class="eye" name="eye" /><text>{{utils.numFormat(item.read_num)}}</text>
          <van-icon class="like" name="like" /><text class="num">{{utils.numFormat(item.collect_use_num
)}}</text>
        </view>
      </view>
      <view class="ad" wx:if="{{index % 14 === 0 && !isVip}}">
        <ad-custom unit-id="adunit-22b0c53040c52e13"></ad-custom>
      </view>
    </view>
  </block>
  <more-wrap loading="{{loading}}" noMore="{{noMore}}"></more-wrap>
  <vip-popup show="{{vipShow}}" bind:childFun="vipClose"></vip-popup>
  <vip-popup
    show="{{signShow}}"
    title="今日未签到"
    desc="去签到可以获取积分"
    sign="{{true}}"
  ></vip-popup>
</view>