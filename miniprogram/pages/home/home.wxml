<view class="home-page">
  <nav-bar
    id="navBar"
    title="前端面试题材"
    hideTip="{{hideTip}}"
    titLoading="{{titLoading}}"
    background='linear-gradient(#7e68f3, #4e6ef2)'
    color="#fff"
    bind:closeTip="closeTip"
  ></nav-bar>
  <view class="home-swiper">
    <view class="bg">
      <view class="three-bounce">
        <view class="one"></view>
        <view class="two"></view>
        <view class="three"></view>
      </view>
    </view>
    <swiper
      class="swiper"
      indicator-dots
      autoplay
      circular
      interval="5000"
      duration="500"
      bindchange="swiperChange"
    >
      <block wx:for="{{swiper}}" wx:key="index">
        <swiper-item>
          <navigator class="swiper-content" url="{{item.to}}" bindtap="go" data-to="{{item.to}}" hover-class="none">
            <image class="img {{current===index?'active':''}}" src="{{item.url}}"></image>
          </navigator>
        </swiper-item>
      </block>
    </swiper>
  </view>
  <view class="home-notice">
    <van-notice-bar left-icon="volume-o">
      <text>截止{{currentTime}}，共录入面试题：{{topicSum}}题 <text class="iconfont icon-huomiao"></text></text>
    </van-notice-bar>
  </view>
  <view class="home-module">
    <view class="module-wrapper bg1" bindtap="showVip">
      <view class="title">VIP专属权益</view>
      <view class="btn">了解详情</view>
      <view class="icon-wrapper">
        <view class="iconfont icon-aixin"></view>
      </view>
    </view>
    <view class="module-wrapper bg2" bindtap="addGroup" wx:if="{{showgroup}}">
      <view class="title">面试交流群</view>
      <view class="btn">立即加入</view>
      <view class="icon-wrapper">
        <view class="iconfont icon-yuandianda"></view>
      </view>
    </view>
    <view class="module-wrapper bg2" bindtap="addMsjq" wx:else>
      <view class="title">前端面试技巧</view>
      <view class="btn">立即前往</view>
      <view class="icon-wrapper">
        <view class="iconfont icon-yuandianda"></view>
      </view>
    </view>
  </view>
  <view class="home-container">
    <view class="gongge-wrapper">
      <view class="title">
        <text>热门分类</text>
        <view class="search-wrap" bindtap="goSearch">
          <view class="search-input">
            <text class="icon-bg">
              <text class="iconfont icon-sousuo1"></text>
            </text>
            <text class="text">题材搜索</text>
          </view>
        </view>
      </view>
      <view class="gongge-list">
        <block wx:for="{{category}}" wx:key="index">
          <navigator wx:if="{{item.type === 'all'}}" class="gongge-item" url="/pages/category/category">
            <view class="wrapper">
              <view class="left">
                <text class="iconfont {{item.icon}}"></text>
              </view>
              <view class="right">
                <text class="text">{{item.label}}</text>
                <text class="tag">共{{topicSum}}条</text>
              </view>
            </view>
            <text class="icon-right-circle iconfont"></text>
          </navigator>
          <navigator wx:else class="gongge-item" url="/pages/topic-list/topic-list?id={{item.id}}&label={{item.label}}&type={{item.type}}">
            <view class="wrapper">
              <view class="left">
                <text class="iconfont {{item.icon}}"></text>
              </view>
              <view class="right">
                <text class="text">{{item.label}}</text>
                <text class="tag">共{{item.cate_num}}条</text>
              </view>
            </view>
            <text class="icon-right-circle iconfont"></text>
          </navigator>
        </block>
      </view>
    </view>
    <view class="gongge-wrapper">
      <view class="title">
        <text>辅助工具</text>
      </view>
      <view class="gongge-list">
        <block wx:for="{{assist}}" wx:key="index">
          <view class="gongge-item assist" hover-class="navigator-hover" bindtap="onRoute" data-item="{{item}}">
            <view class="wrapper">
              <view class="left">
                <image src="{{item.url}}" mode="heightFix"></image>
              </view>
              <view class="right">
                <text class="text">{{item.label}}</text>
              </view>
            </view>
            <text class="icon-right-circle iconfont"></text>
          </view>
        </block>
      </view>
    </view>

    <!-- 广告位 -->
    <view class="ad" wx:if="{{!isVip}}">
      <ad-custom unit-id="adunit-4740ba525cdd081d"></ad-custom>
    </view>
  </view>
  <!-- vip -->
  <vip-popup safeAreaInsetBottom="{{false}}" show="{{show}}"></vip-popup>
</view>