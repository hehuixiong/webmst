<view class="home-page">
  <nav-bar
    id="navBar"
    title="前端面试题材"
    hideTip="{{hideTip}}"
    titLoading="{{titLoading}}"
    background='linear-gradient(#4e6ef2, #7e68f3)'
    color="#fff"
    bind:closeTip="closeTip"
  ></nav-bar>
  <view class="home-swiper">
    <view class="bg">
      <view class="three-bounce">
        <view class="one"></view>
        <view class="two"></view>
        <view class="three"></view>
      </view>
    </view>
    <swiper
      class="swiper"
      indicator-dots="{{swiper.length > 1}}"
      autoplay
      circular
      interval="5000"
      duration="500"
      bindchange="swiperChange"
    >
      <block wx:for="{{swiper}}" wx:key="index">
        <swiper-item>
          <navigator class="swiper-content" url="{{item.url}}" data-url="{{item.url}}" hover-class="none">
            <image class="img {{current===index?'active':''}}" src="{{item.thumb}}"></image>
          </navigator>
        </swiper-item>
      </block>
    </swiper>
  </view>
  <view class="home-notice">
    <van-notice-bar background="#fff8ea" color="#ed6a0c" left-icon="volume-o" scrollable="{{scrollable}}" bindtap="jumpVip">
      <text wx:if="{{isNotice}}">{{noticeText}}</text>
      <text wx:else>截止{{currentTime}}，共录入面试题：{{topicSum || '--'}}题 <text class="iconfont icon-huomiao"></text></text>
    </van-notice-bar>
  </view>
  <view class="home-btn">
    <view class="btn btn1" bindtap="jumpVip"><text class="iconfont icon-vip-show"></text>VIP会员中心</view>
    <view class="btn btn2" wx:if="{{showgroup}}" bindtap="addGroup">免费加交流群</view>
    <view class="btn btn2" wx:else bindtap="addMsjq">web面试技巧</view>
  </view>
  <view class="home-container">
    <view class="gongge-wrapper">
      <view class="title">
        <text>热门分类</text>
        <view class="search-wrap" bindtap="goSearch">
          <view class="search-input">
            <text class="icon-bg">
              <text class="iconfont icon-sousuo1"></text>
            </text>
            <text class="text">题材搜索</text>
          </view>
        </view>
      </view>
      <view class="gongge-list">
        <block wx:for="{{category}}" wx:key="index">
          <navigator wx:if="{{item.type === 'all'}}" class="gongge-item" url="/pages/category/category">
            <view class="wrapper">
              <view class="left">
                <text class="iconfont {{item.icon}}"></text>
              </view>
              <view class="right">
                <text class="text">{{item.label}}</text>
                <text class="tag">共{{topicSum || '--'}}条</text>
              </view>
            </view>
            <text class="icon-right-circle iconfont"></text>
          </navigator>
          <navigator wx:else class="gongge-item" url="/pages/topic-list/topic-list?id={{item.id}}&label={{item.label}}&type={{item.type}}">
            <view class="wrapper">
              <view class="left">
                <text class="iconfont {{item.icon}}"></text>
              </view>
              <view class="right">
                <text class="text">{{item.label}} <text class="free" wx:if="{{item.id === 2 || item.id === 3}}">(免费开放)</text></text>
                <text class="tag">共{{item.cate_num || '--'}}条</text>
              </view>
            </view>
            <text class="icon-right-circle iconfont"></text>
          </navigator>
        </block>
      </view>
    </view>
    <view class="gongge-wrapper">
      <view class="title">
        <text>辅助功能</text>
      </view>
      <view class="gongge-list">
        <block wx:for="{{assist}}" wx:key="index">
          <view class="gongge-item assist" hover-class="navigator-hover" bindtap="onRoute" data-item="{{item}}">
            <view class="wrapper">
              <view class="left">
                <image src="{{item.url}}" mode="heightFix"></image>
              </view>
              <view class="right">
                <text class="text">{{item.label}}</text>
              </view>
            </view>
            <text class="icon-right-circle iconfont"></text>
          </view>
        </block>
      </view>
    </view>

    <!-- 广告位 -->
    <view class="ad" wx:if="{{!isVip}}">
      <ad-custom unit-id="adunit-4740ba525cdd081d"></ad-custom>
    </view>

    <!-- 签到 -->
    <!-- <view class="sign-in">签到</view> -->
  </view>
</view>